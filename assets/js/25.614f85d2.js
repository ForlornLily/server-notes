(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{298:function(t,s,a){t.exports=a.p+"assets/img/where_two_table.28816da7.jpg"},347:function(t,s,a){"use strict";a.r(s);var r=a(14),_=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"多个查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多个查询"}},[t._v("#")]),t._v(" 多个查询")]),t._v(" "),s("h2",{attrs:{id:"嵌套查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#嵌套查询"}},[t._v("#")]),t._v(" 嵌套查询")]),t._v(" "),s("p",[t._v("比如查询 id 位于 article 表内的 users 表的 id")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" weibo_db"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("users\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" id "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" weibo_db"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("article "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("子选项只能是单列，否则会有歧义")]),t._v(" "),s("h2",{attrs:{id:"联结查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#联结查询"}},[t._v("#")]),t._v(" 联结查询")]),t._v(" "),s("p",[t._v("大数据时一般用联结查询代替嵌套，DBMS 会对联结查询做优化"),s("br"),t._v("\n一类数据一个表，各表之间通过共同的值进行关联"),s("br"),t._v("\n比如查询两个表，此时两个表之间的列不能重复"),s("br"),t._v(" "),s("code",[t._v("select * from weibo_db.users, weibo_db.article;")]),s("br"),t._v("\n显示两个表的所有内容（笛卡尔积：行数是各自表格行数相乘）"),s("br"),t._v(" "),s("img",{attrs:{src:a(298),alt:""}})]),t._v(" "),s("h3",{attrs:{id:"内联结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内联结"}},[t._v("#")]),t._v(" 内联结")]),t._v(" "),s("p",[t._v("inner join: 两个表之间的相等取值。即两个表交集"),s("br"),t._v(" "),s("code",[t._v("inner join 表明 on where的条件")])]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" weibo_db"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" username "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" users "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("inner")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" article "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" users"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" article"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"自联结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自联结"}},[t._v("#")]),t._v(" 自联结")]),t._v(" "),s("p",[t._v("self-join\n即查询本表，一般用别名")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" weibo_db"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nickname "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" users "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" users "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("username "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("username "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nickname "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"自然联结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自然联结"}},[t._v("#")]),t._v(" 自然联结")]),t._v(" "),s("p",[t._v("natural-join"),s("br"),t._v("\n多个表可能存在相同的列名，自然联结表示选择列名时只能选不重复的列名")]),t._v(" "),s("h3",{attrs:{id:"外联结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#外联结"}},[t._v("#")]),t._v(" 外联结")]),t._v(" "),s("p",[t._v("outer-join"),s("br"),t._v("\n除了列出两个表之间的相等取值的记录意外，还包括表本身不符合的内容"),s("br"),t._v("\n比如存在两个表\nusers 如下")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("id")]),t._v(" "),s("th",[t._v("username")]),t._v(" "),s("th",[t._v("password")]),t._v(" "),s("th",[t._v("nickname")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td",[t._v("jack")])]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("2")]),t._v(" "),s("td",[t._v("3")]),t._v(" "),s("td",[t._v("john")])]),t._v(" "),s("tr",[s("td",[t._v("3")]),t._v(" "),s("td",[t._v("2")]),t._v(" "),s("td",[t._v("3")]),t._v(" "),s("td",[t._v("4")])]),t._v(" "),s("tr",[s("td",[t._v("4")]),t._v(" "),s("td",[t._v("2")]),t._v(" "),s("td",[t._v("4")]),t._v(" "),s("td",[t._v("3")])]),t._v(" "),s("tr",[s("td",[t._v("5")]),t._v(" "),s("td",[t._v("2")]),t._v(" "),s("td",[t._v("4")]),t._v(" "),s("td",[t._v("hi")])])])]),t._v(" "),s("p",[t._v("article 如下")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("article")]),t._v(" "),s("th",[t._v("id")]),t._v(" "),s("th",[t._v("author")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("hello")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td",[t._v("jack")])]),t._v(" "),s("tr",[s("td",[t._v("world")]),t._v(" "),s("td",[t._v("2")]),t._v(" "),s("td",[t._v("john")])]),t._v(" "),s("tr",[s("td",[t._v("color")]),t._v(" "),s("td",[t._v("3")]),t._v(" "),s("td",[t._v("mary")])]),t._v(" "),s("tr",[s("td",[t._v("colour")]),t._v(" "),s("td",[t._v("9")]),t._v(" "),s("td",[t._v("tom")])])])]),t._v(" "),s("p",[t._v("左联结：以左表为准，返回左表的内容，不存在的值为 null\nleft outer join on/left join on\n"),s("code",[t._v("select username, author from users left join article on users.id = article.id;")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("username")]),t._v(" "),s("th",[t._v("author")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("jack")])]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("john")])]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("mary")])]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("null")])]),t._v(" "),s("tr",[s("td",[t._v("5")]),t._v(" "),s("td",[t._v("null")])])])]),t._v(" "),s("p",[t._v("右联结：以右表为准，返回右表的所有内容，不存在的值为 null\nright outer join on/right join on"),s("br"),t._v(" "),s("code",[t._v("select username, author from users right join article on users.id = article.id;")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("username")]),t._v(" "),s("th",[t._v("author")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("jack")])]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("john")])]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("mary")])]),t._v(" "),s("tr",[s("td",[t._v("null")]),t._v(" "),s("td",[t._v("tom")])])])])])}),[],!1,null,null,null);s.default=_.exports}}]);