(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{348:function(t,_,v){"use strict";v.r(_);var a=v(14),r=Object(a.a)({},(function(){var t=this,_=t._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"计算"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#计算"}},[t._v("#")]),t._v(" 计算")]),t._v(" "),_("p",[t._v("存储在数据库和实际前端要拿的值可能不一样，比如日期"),_("br"),t._v("\n日期可以前端处理，也可以后端处理后返回")]),t._v(" "),_("h2",{attrs:{id:"拼接"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#拼接"}},[t._v("#")]),t._v(" 拼接")]),t._v(" "),_("p",[t._v("MySQL 使用 "),_("code",[t._v("concat")]),t._v(" 函数"),_("br"),t._v(" "),_("code",[t._v('select concat(author, "-", article) from weibo_db.article;')])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("id")]),t._v(" "),_("th",[t._v('concat(author, "-", article)')])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("1")]),t._v(" "),_("td",[t._v("jack-hello")])]),t._v(" "),_("tr",[_("td",[t._v("2")]),t._v(" "),_("td",[t._v("john-world")])]),t._v(" "),_("tr",[_("td",[t._v("3")]),t._v(" "),_("td",[t._v("mary-color")])]),t._v(" "),_("tr",[_("td",[t._v("4")]),t._v(" "),_("td",[t._v("tom-colour")])])])]),t._v(" "),_("ul",[_("li",[t._v("trim: 相当于 JavaScript 里面的 "),_("code",[t._v("trim()")]),t._v("，去掉前后空格。"),_("code",[t._v("trim(article)")])]),t._v(" "),_("li",[t._v("别名，将上面的拼接字段设置一个名称。也可以给表名取别名"),_("br"),t._v(" "),_("code",[t._v('select id, concat(author, "-", trim(article)) as detail from weibo_db.article;')]),t._v("\n列名 "),_("code",[t._v('concat(author, "-", article)')]),t._v(" 变成了 "),_("code",[t._v("detail")])])]),t._v(" "),_("h2",{attrs:{id:"算术运算"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#算术运算"}},[t._v("#")]),t._v(" 算术运算")]),t._v(" "),_("p",[t._v("支持列与列之间的加减乘除"),_("br"),t._v(" "),_("code",[t._v("select 列 1 * 列 2 as 别名 from table")]),t._v(";")]),t._v(" "),_("h2",{attrs:{id:"函数"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[t._v("#")]),t._v(" 函数")]),t._v(" "),_("p",[t._v("大部分函数在不同的软件实现不一样，以下只粗略介绍 MySQL 相关")]),t._v(" "),_("h3",{attrs:{id:"处理字符串"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#处理字符串"}},[t._v("#")]),t._v(" 处理字符串")]),t._v(" "),_("ul",[_("li",[t._v("如上面的去除前后空格 "),_("code",[t._v("trim()")])]),t._v(" "),_("li",[t._v("转大写 "),_("code",[t._v("upper")]),t._v("。"),_("code",[t._v("select id, upper(article) as article from weibo_db.article;")])]),t._v(" "),_("li",[t._v("转小写 "),_("code",[t._v("lower")])]),t._v(" "),_("li",[t._v("字符串长度 "),_("code",[t._v("length")]),t._v("。"),_("code",[t._v("select length(article) from weibo_db.article;")])])]),t._v(" "),_("h3",{attrs:{id:"算术"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#算术"}},[t._v("#")]),t._v(" 算术")]),t._v(" "),_("p",[t._v("如绝对值 abs，三角函数 cos/sin/tan")]),t._v(" "),_("h3",{attrs:{id:"日期格式化"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#日期格式化"}},[t._v("#")]),t._v(" 日期格式化")]),t._v(" "),_("h3",{attrs:{id:"统计"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#统计"}},[t._v("#")]),t._v(" 统计")]),t._v(" "),_("ul",[_("li",[t._v("avg: 某列的平均值，可以和 distinct 一起使用，avg(distinct 列名)")]),t._v(" "),_("li",[t._v("count: 行数")]),t._v(" "),_("li",[t._v("max/min: 最大/小值，可以和 distinct 一起使用，但是没有必要")]),t._v(" "),_("li",[t._v("sum: 和\n查询结果只有一行"),_("br"),t._v(" "),_("code",[t._v("select id, sum(id) as sum from weibo_db.article;")])])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("id")]),t._v(" "),_("th",[t._v("sum")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("1")]),t._v(" "),_("td",[t._v("10")])])])]),t._v(" "),_("p",[_("code",[t._v("select id, min(id) as min_id, avg(id) as avg from weibo_db.article;")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("id")]),t._v(" "),_("th",[t._v("min_id")]),t._v(" "),_("th",[t._v("avg")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("1")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("2.5000")])])])])])}),[],!1,null,null,null);_.default=r.exports}}]);