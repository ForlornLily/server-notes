(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{337:function(s,r,e){"use strict";e.r(r);var t=e(14),n=Object(t.a)({},(function(){var s=this,r=s._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[r("h1",{attrs:{id:"缓存-redis"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#缓存-redis"}},[s._v("#")]),s._v(" 缓存 redis")]),s._v(" "),r("h2",{attrs:{id:"场景"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#场景"}},[s._v("#")]),s._v(" 场景")]),s._v(" "),r("p",[s._v("比如登录:"),r("br"),s._v("\ncookie+session 的做法"),r("br"),s._v("\nsession 的目的就是为了解决 cookie 暴露隐私，本质上就是在服务器定义一个对象，和 cookie 存在关系"),r("br"),s._v("\ncookie 要避免暴露用户信息，可以用一些加密算法保存 userId"),r("br"),s._v("\n服务端定义一个对象"),r("br"),s._v("\nsession[userId] = value 值")]),s._v(" "),r("p",[s._v("session 目前就是一个 js 变量。如果用户量很大，会十分消耗服务器的内存"),r("br"),s._v("\n另一方面，后台都是多个进程（比如同时启动 3 个 NodeJS），无法做到像浏览器一样，只有一个环境，后台没法全局变量共享")]),s._v(" "),r("h2",{attrs:{id:"介绍"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[s._v("#")]),s._v(" 介绍")]),s._v(" "),r("p",[s._v("解决 session 的问题，可以使用 redis"),r("br"),s._v("\nredis 是一个数据库，数据直接存在内存中（不是硬盘），所以读写比较快。"),r("br"),s._v("\n缺点就是使用内存，成本更高"),r("br"),s._v("\nsession 的访问十分频繁，硬盘会比较慢，所以直接存内存更合适。"),r("br"),s._v("\nmysql 是硬盘")])])}),[],!1,null,null,null);r.default=n.exports}}]);